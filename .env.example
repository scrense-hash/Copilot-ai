############################
# Core OpenRouter settings #
############################

# API-ключ OpenRouter
OPENROUTER_API_KEY=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

# HTTP Referer (обязателен для OpenRouter статистики)
OPENROUTER_HTTP_REFERER=http://localhost

# Название приложения
OPENROUTER_X_TITLE=copilot-autorouter


###################
# Proxy settings  #
###################

# HTTP прокси (для обхода геоблокировки)
# Формат: http://proxy.example.com:8080 или http://user:pass@proxy.example.com:8080
#HTTP_PROXY=

# HTTPS прокси (приоритетнее для HTTPS запросов)
# Формат: http://proxy.example.com:8080 или http://user:pass@proxy.example.com:8080
#HTTPS_PROXY=http://your-proxy-server:port


#########################
# Model selection rules #
#########################

# Минимальный размер контекста
# Для диагностики рекомендую НЕ завышать
MIN_CTX=131072

# Максимальная цена ($/1M токенов)
# Для диагностики лучше не 0.0
MAX_PRICE=0.1

# Приоритетные модели (если нужно)
PRIORITY_MODELS=

# Явно забаненные модели
BAN_MODELS=


###################
# Timeouts (sec) #
###################

REQUEST_TIMEOUT_S=60
STREAM_IDLE_TIMEOUT_S=20


########################
# Streaming behaviour #
########################

# Период keepalive комментариев
BUFFER_STREAM_KEEPALIVE_S=5

# Максимальный размер буфера SSE (байты)
MAX_BUFFERED_SSE_BYTES=20000000


#########################
# Models cache / refresh#
#########################

REFRESH_MODELS_S=300


#################
# Logging setup #
#################

# ⚠️ DEBUG обязателен для зеркалирования трафика
LOG_LEVEL=DEBUG

# Основной лог
LOG_PATH=/var/log/autorouter/autorouter.log


#########################
# Debug SSE traffic log #
#########################

# Включить детальный лог SSE
DEBUG_SSE_TRAFFIC=1

# Файл для raw SSE трафика
DEBUG_SSE_TRAFFIC_LOG_PATH=/var/log/autorouter/traffic_sse.log

# 0 = не обрезать (очень много данных)
DEBUG_SSE_TRAFFIC_TRUNCATE_BYTES=0

# Ротация
DEBUG_SSE_TRAFFIC_MAX_BYTES=100000000
DEBUG_SSE_TRAFFIC_BACKUP_COUNT=3

# ⚠️ ЗЕРКАЛО в основной лог (первые чанки)
DEBUG_SSE_TRAFFIC_MIRROR_MAIN=1
DEBUG_SSE_TRAFFIC_MIRROR_MAIN_MAX_CHUNKS=20


#################
# Runtime info  #
#################

USER_AGENT=copilot-autorouter/0.8.0 (+https://openrouter.ai)

PORT=8000
MAX_REQUEST_BYTES=2000000